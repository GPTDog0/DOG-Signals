<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üê∂ DOG SIGNALS PRO</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
  font-family: "Inter", sans-serif;
  background: radial-gradient(circle at top, #1a0000 0%, #000 90%);
  color: #fff;
  margin:0;
  text-align:center;
  overflow-x:hidden;
}

/* ===== –ó–∞–≥–æ–ª–æ–≤–æ–∫ ===== */
.header {
  padding: 15px 0;
  text-align:center;
  color:#ff3b3b;
  font-size:26px;
  font-weight:700;
  text-shadow:0 0 20px #ff000099;
  animation: fadeIn 1s ease;
}

/* ===== –ö–æ–Ω—Ç—Ä–æ–ª—ã ===== */
.controls { display:flex; justify-content:center; gap:12px; margin:12px auto; flex-wrap:wrap;}
select {
  background:#1a0000;
  border:1px solid #330000;
  border-radius:8px;
  color:#ffcccc;
  padding:8px 12px;
  font-size:15px;
}
button {
  border:none;
  border-radius:10px;
  font-size:16px;
  padding:10px 0;
  width:160px;
  color:#fff;
  background: linear-gradient(180deg, #ff3b3b, #b30000);
  box-shadow:0 0 10px #ff000040;
  cursor:pointer;
  transition:0.3s;
}
button:hover { transform:scale(1.05); box-shadow:0 0 18px #ff000060;}
button:disabled { opacity:0.5; cursor:not-allowed; }

/* ===== –°–∏–≥–Ω–∞–ª ===== */
#signalDisplay {
  font-size:20px;
  margin:15px 0;
  min-height:60px;
  text-shadow:0 0 15px #ff000088;
  transition: all 0.6s ease;
}
.signal.up { color:#ff5050; text-shadow:0 0 25px #ff5050aa; animation:blinkUp 1s infinite;}
.signal.down { color:#ff2222; text-shadow:0 0 25px #ff2222aa; animation:blinkDown 1s infinite;}

@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
@keyframes blinkUp { 0%,100%{color:#ff8888;text-shadow:0 0 25px #ff5050;}50%{color:#fff;} }
@keyframes blinkDown {0%,100%{color:#ff2222;text-shadow:0 0 25px #ff2222;}50%{color:#fff;}}

/* ===== –ì—Ä–∞—Ñ–∏–∫ ===== */
#chartContainer {width:94%; max-width:500px; height:350px; margin:0 auto; background:#080000; border:1px solid #330000; border-radius:10px; box-shadow:0 0 25px #ff000015; animation:fadeIn 1s ease; }

/* ===== Footer ===== */
footer { margin-top:15px; font-size:12px; color:#a66; opacity:0.7; }

</style>
</head>
<body>

<div class="header">üê∂ DOG SIGNALS PRO</div>

<div class="controls">
  <select id="pairSelect">
    <option>EUR/USD</option>
    <option>GBP/USD</option>
    <option>USD/JPY</option>
    <option>AUD/USD</option>
  </select>
  <select id="tfSelect">
    <option value="1m">1M</option>
    <option value="3m">3M</option>
    <option value="5m">5M</option>
  </select>
</div>

<div class="controls">
  <button id="getSignalBtn">üî• –ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>
  <button id="resetBtn" disabled>–°–±—Ä–æ—Å–∏—Ç—å</button>
</div>

<div id="signalDisplay"></div>
<div id="chartContainer"><canvas id="chart"></canvas></div>

<footer>¬© 2025 DOG Signals | Powered by Pocket Option</footer>

<script>
const ctx = document.getElementById('chart').getContext('2d');
let chart = null;
let timer = null;

function generateData(points=50){
  const data = [];
  let price = 100;
  for(let i=0;i<points;i++){
    price += (Math.random()-0.5)*2;
    data.push(Number(price.toFixed(2)));
  }
  return data;
}

function calculateEMA(data, period){
  const k = 2/(period+1);
  let ema = [data[0]];
  for(let i=1;i<data.length;i++){
    ema.push(data[i]*k + ema[i-1]*(1-k));
  }
  return ema;
}

function calculateRSI(data, period=14){
  let gains=[], losses=[];
  for(let i=1;i<data.length;i++){
    const diff = data[i]-data[i-1];
    gains.push(diff>0?diff:0);
    losses.push(diff<0?-diff:0);
  }
  let rsi=[]; 
  for(let i=period;i<gains.length;i++){
    const avgGain = gains.slice(i-period,i).reduce((a,b)=>a+b)/period;
    const avgLoss = losses.slice(i-period,i).reduce((a,b)=>a+b)/period;
    const RS = avgLoss===0?100:avgGain/avgLoss;
    rsi.push(100 - 100/(1+RS));
  }
  while(rsi.length<data.length) rsi.unshift(50);
  return rsi;
}

function calculateMACD(data, short=12,long=26,signal=9){
  const emaShort = calculateEMA(data,short);
  const emaLong = calculateEMA(data,long);
  const macd = emaShort.map((v,i)=>v - emaLong[i]);
  const signalLine = calculateEMA(macd,signal);
  return {macd,signalLine};
}

function generateSignal(latestPrice,rsi,ema){
  if(rsi[rsi.length-1]<30 && latestPrice<ema[ema.length-1]) return 'üìà –í–≤–µ—Ä—Ö';
  if(rsi[rsi.length-1]>70 && latestPrice>ema[ema.length-1]) return 'üìâ –í–Ω–∏–∑';
  return '‚è∏ –ñ–¥–µ–º';
}

function renderChart(prices){
  const ema12 = calculateEMA(prices,12);
  const rsi = calculateRSI(prices,14);
  const macdObj = calculateMACD(prices);
  
  if(chart) chart.destroy();
  
  chart = new Chart(ctx,{
    type:'line',
    data:{
      labels:prices.map((v,i)=>i+1),
      datasets:[
        {label:'Price', data:prices, borderColor:'#ff3b3b', borderWidth:2, fill:false},
        {label:'EMA12', data:ema12, borderColor:'#ffaa00', borderWidth:1.5, fill:false},
        {label:'RSI', data:rsi, borderColor:'#22ff22', borderWidth:1, fill:false, yAxisID:'y2'},
        {label:'MACD', data:macdObj.macd, borderColor:'#4444ff', borderWidth:1, fill:false, yAxisID:'y2'},
      ]
    },
    options:{
      responsive:true,
      plugins:{legend:{labels:{color:'#fff'}}},
      scales:{
        x:{ ticks:{color:'#fff'} },
        y:{ ticks:{color:'#fff'} },
        y2:{ type:'linear', position:'right', ticks:{color:'#fff'}}
      }
    }
  });
  
  const latestPrice = prices[prices.length-1];
  const signal = generateSignal(latestPrice,rsi,ema12);
  const display = document.getElementById('signalDisplay');
  display.innerText = signal;
  display.className = 'signal ' + (signal==='üìà –í–≤–µ—Ä—Ö'?'up':signal==='üìâ –í–Ω–∏–∑'?'down':'');
}

document.getElementById('getSignalBtn').onclick = ()=>{
  const data = generateData(50);
  renderChart(data);
  document.getElementById('getSignalBtn').disabled = true;
  document.getElementById('resetBtn').disabled = false;
};

document.getElementById('resetBtn').onclick = ()=>{
  if(chart) chart.destroy();
  document.getElementById('signalDisplay').innerText='';
  document.getElementById('signalDisplay').className='';
  document.getElementById('getSignalBtn').disabled=false;
  document.getElementById('resetBtn').disabled=true;
};
</script>

</body>
</html>

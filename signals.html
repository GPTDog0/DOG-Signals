<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pocket Option ‚Äî Signals</title>
<style>
  /* –°—Ç–∏–ª—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã + —Ñ–æ–Ω */
  html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;background:#071124;}
  body{
    background: url('trader_background.jpg') no-repeat center center fixed;
    background-size: cover;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    color:#e6eef8;
  }

  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
  .wrap{
    max-width:430px;
    margin:14px auto;
    padding:14px;
    background: rgba(6,10,20,0.78); /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π, —á—Ç–æ–±—ã —Ñ–æ–Ω –ø—Ä–æ—Å–≤–µ—á–∏–≤–∞–ª */
    border-radius:14px;
    box-shadow: 0 8px 30px rgba(2,6,23,0.6);
    text-align:center;
  }

  h1{font-size:18px;margin:6px 0 12px;color:#8fe0ff;letter-spacing:0.4px;}

  /* —Å–µ–ª–µ–∫—Ç—ã –∏ –∫–Ω–æ–ø–∫–∏ */
  .controls {display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:10px;}
  select{
    appearance:none;
    -webkit-appearance:none;
    -moz-appearance:none;
    padding:8px 10px;border-radius:8px;border:none;background:#0f1724;color:#e6eef8;font-size:14px;
  }
  button{
    padding:10px 14px;border-radius:10px;border:none;background:#0ea5e9;color:#041022;font-weight:700;
    cursor:pointer;font-size:15px;
  }
  button:hover{filter:brightness(1.06)}
  button:disabled{background:#445566;cursor:not-allowed;color:#bcd2e6}

  /* –ë–ª–æ–∫ —Å–∏–≥–Ω–∞–ª–∞ */
  .signal-box{
    margin-top:12px;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(12,16,24,0.5), rgba(10,14,20,0.6));
    min-height:86px;display:flex;flex-direction:column;align-items:center;justify-content:center;
  }
  .signal-line{font-size:15px;margin:6px 0}
  .tmr{font-weight:700;color:#dbeafe}
  .entry{font-weight:700;color:#f0f9ff}
  .result-plus{color:#22c55e;font-weight:800}
  .result-minus{color:#ef4444;font-weight:800}
  .result-ret{color:#facc15;font-weight:800}

  /* –ì—Ä–∞—Ñ–∏–∫ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω */
  #tv_chart_container{
    width:100%;
    height:250px;
    margin-top:12px;
    display:none; /* –ø–æ—è–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏–≥–Ω–∞–ª–∞ */
    border-radius:10px;
    overflow:hidden;
    background:#081224;
  }
  @media (min-width:431px){
    #tv_chart_container{height:300px}
  }

  /* –õ–æ–∞–¥–µ—Ä ‚Äî –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å–æ–±–∞–∫–∏ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
  .loader-dog{width:110px;height:110px;object-fit:contain;display:block;margin:6px auto;border-radius:12px}

  /* .small help text */
  .hint{font-size:12px;color:#9fb8cf;margin-top:8px}
</style>
</head>
<body>
  <div class="wrap" role="main">
    <h1>üî• Pocket Option ‚Äî –°–∏–≥–Ω–∞–ª—ã</h1>

    <div class="controls" aria-hidden="false">
      <select id="pairSelect" aria-label="–í—ã–±–æ—Ä –ø–∞—Ä—ã">
        <option>EUR/USD</option><option>GBP/USD</option><option>USD/JPY</option>
        <option>AUD/USD</option><option>USD/CAD</option><option>NZD/USD</option>
        <option>CHF/JPY</option><option>EUR/GBP</option><option>EUR/JPY</option>
        <option>GBP/JPY</option><option>AUD/JPY</option><option>CAD/JPY</option>
        <option>NZD/JPY</option><option>GBP/CHF</option><option>EUR/CHF</option>
      </select>

      <select id="tfSelect" aria-label="–í—ã–±–æ—Ä —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞">
        <option>1m</option><option>3m</option><option>5m</option>
      </select>
    </div>

    <div style="display:flex;gap:8px;justify-content:center;">
      <button id="getSignalBtn">–ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>
      <button id="resetSignalBtn">–°–±—Ä–æ—Å–∏—Ç—å —Å–∏–≥–Ω–∞–ª</button>
    </div>

    <div class="signal-box" id="signalDisplay" aria-live="polite">
      <div id="signalPlaceholder"><p style="margin:0;color:#aacdde">–°–∏–≥–Ω–∞–ª –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</p></div>
    </div>

    <div id="tv_chart_container" aria-hidden="true"></div>

    <div class="hint">–ì—Ä–∞—Ñ–∏–∫ –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞. –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –æ–Ω —É–º–µ–Ω—å—à–µ–Ω –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω.</div>
  </div>

  <!-- TradingView widget -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>

  <script>
  /* demo-signal –±–∞–∑–∞ */
  const demoSignals = [
    {entry:"1.0932", duration:40},
    {entry:"1.2720", duration:70},
    {entry:"145.60", duration:50},
    {entry:"0.7125", duration:60},
    {entry:"1.3350", duration:45}
  ];

  let currentSignal = null;
  let timerInterval = null;
  let tvWidget = null;

  const pairSelect = document.getElementById('pairSelect');
  const tfSelect = document.getElementById('tfSelect');
  const getSignalBtn = document.getElementById('getSignalBtn');
  const resetSignalBtn = document.getElementById('resetSignalBtn');
  const signalDisplay = document.getElementById('signalDisplay');
  const signalPlaceholder = document.getElementById('signalPlaceholder');
  const chartContainer = document.getElementById('tv_chart_container');

  /* –ó–∞–≥—Ä—É–∂–∞–µ—Ç TradingView –≤–∏–¥–∂–µ—Ç –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–∞—Ä—ã/TF */
  function loadTradingView(pair, tf){
    chartContainer.style.display = 'block';
    chartContainer.setAttribute('aria-hidden','false');
    try{ if(tvWidget && tvWidget.remove) tvWidget.remove(); } catch(e){}
    tvWidget = new TradingView.widget({
      container_id: "tv_chart_container",
      symbol: pair.replace('/',''),
      interval: tf,
      timezone: "Etc/UTC",
      theme: "dark",
      style: "1",
      locale: "ru",
      toolbar_bg: "#0b1220",
      enable_publishing: false,
      hide_side_toolbar: false,
      allow_symbol_change: true,
      save_image: false
    });
  }

  /* –ü–æ–∫–∞–∑ "–∑–∞–≥—Ä—É–∑–∫–∏" ‚Äî –∫–∞—Ä—Ç–∏–Ω–∫–∞ —Å–æ–±–∞–∫–∏ */
  function showDogLoader(){
    signalDisplay.innerHTML = '';
    const img = document.createElement('img');
    img.src = 'dog_loader.png';           // <-- –ø–æ–ª–æ–∂–∏ dog_loader.png —Ä—è–¥–æ–º —Å singl.html
    img.alt = '–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏–≥–Ω–∞–ª–∞';
    img.className = 'loader-dog';
    signalDisplay.appendChild(img);
  }

  /* –ù–∞—á–∞–ª–æ —Å–∏–≥–Ω–∞–ª–∞: –±–ª–æ–∫–∏—Ä—É–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º loader, –ø–æ—Ç–æ–º –≥—Ä–∞—Ñ–∏–∫ –∏ —Ç–∞–π–º–µ—Ä */
  function startSignal(signal){
    currentSignal = signal;

    // –±–ª–æ–∫–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
    getSignalBtn.disabled = true;
    pairSelect.disabled = true;
    tfSelect.disabled = true;

    // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É-–¥–æ–≥ –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –∫—Ä—É–∂–∫–∞
    showDogLoader();
    chartContainer.style.display = 'none';

    // –∏–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É (1.1 —Å–µ–∫)
    setTimeout(()=>{
      const pair = pairSelect.value;
      const tf = tfSelect.value;
      const endTime = Date.now() + signal.duration*1000;

      function tick(){
        const remaining = Math.max(0, Math.ceil((endTime - Date.now())/1000));
        if(remaining <= 0){
          clearInterval(timerInterval);
          // —Å–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
          const results = ['+','-','‚Ü∫'];
          const r = results[Math.floor(Math.random()*results.length)];
          const span = document.createElement('span');
          if(r === '+'){ span.className='result-plus'; span.textContent = '+ (–ø—Ä–æ—Ñ–∏—Ç)'; }
          else if(r === '-'){ span.className='result-minus'; span.textContent = '- (–ª–æ—Å—Å)'; }
          else { span.className='result-ret'; span.textContent = '‚Ü∫ (–≤–æ–∑–≤—Ä–∞—Ç)'; }

          signalDisplay.innerHTML = '';
          const p1 = document.createElement('div'); p1.className='signal-line'; p1.textContent = `–ü–∞—Ä–∞: ${pair} ¬∑ TF: ${tf}`;
          const p2 = document.createElement('div'); p2.className='signal-line entry'; p2.textContent = `–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: ${signal.entry}`;
          const p3 = document.createElement('div'); p3.className='signal-line'; p3.appendChild(span);

          signalDisplay.appendChild(p1); signalDisplay.appendChild(p2); signalDisplay.appendChild(p3);
        } else {
          signalDisplay.innerHTML = '';
          const p1 = document.createElement('div'); p1.className='signal-line'; p1.textContent = `–ü–∞—Ä–∞: ${pair} ¬∑ TF: ${tf}`;
          const p2 = document.createElement('div'); p2.className='signal-line entry'; p2.textContent = `–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: ${signal.entry}`;
          const p3 = document.createElement('div'); p3.className='signal-line tmr'; p3.textContent = `–¢–∞–π–º–µ—Ä: 00:${remaining < 10 ? '0' + remaining : remaining}`;
          signalDisplay.appendChild(p1); signalDisplay.appendChild(p2); signalDisplay.appendChild(p3);
        }
      }

      tick();
      timerInterval = setInterval(tick, 1000);

      // –ü–æ–∫–∞–∑–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ (–ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å)
      loadTradingView(pair, tf);
    }, 1100);
  }

  /* –ö–Ω–æ–ø–∫–∏ */
  getSignalBtn.addEventListener('click', ()=>{
    if(timerInterval){ clearInterval(timerInterval); timerInterval = null; }
    const rand = demoSignals[Math.floor(Math.random()*demoSignals.length)];
    startSignal(rand);
  });

  resetSignalBtn.addEventListener('click', ()=>{
    if(timerInterval){ clearInterval(timerInterval); timerInterval = null; }
    signalDisplay.innerHTML = '<div id="signalPlaceholder"><p style="margin:0;color:#aacdde">–°–∏–≥–Ω–∞–ª –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</p></div>';
    chartContainer.style.display = 'none';
    currentSignal = null;
    getSignalBtn.disabled = false;
    pairSelect.disabled = false;
    tfSelect.disabled = false;
  });

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (—Å–∫—Ä—ã—Ç—ã–π –≥—Ä–∞—Ñ–∏–∫ –¥–æ —Å–∏–≥–Ω–∞–ª–∞)
  chartContainer.style.display = 'none';
  </script>
</body>
</html>
